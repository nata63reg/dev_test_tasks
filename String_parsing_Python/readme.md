Задание на должность инженер-программист Python

Имеется строка вида:

a|b b|cc|d d d|e|f|g| key1=value1 key2=value2 key3=value3 … keyN=valueN

Особенности формата строки:

строка содержит фиксированное количество разделителей | - 7 шт. Между этими разделителями содержится набор символов (без ключа, просто значение), т.е. всего 7 значений. При этом некоторых или всех значений может и не быть (пустые значения)
после последнего разделителя | - в строке содержится неопределенное количество пар ключ=значение;
порядок и количество пар ключ=значение может меняться;
значение (value) может содержать пробел, знак =, а также знак |
Необходимо реализовать функцию, которая принимает на вход файл test.log, на выходе выдает список словарей, где каждый словарь в качестве пары ключ-значение содержит соответствующие пары ключ-значение из строки. Для первых 7-ми значений можно задать свои наименования ключей. При реализации функции можно пользоваться Regex выражениями.

Результат выполнения также желательно вывести в файл в формате json.

К ответному письму приложить файл скрипта и json-файл с результатом выполнения.

 

Пример:

{param1: a, param2: b b, param3: cc, param4: d d d, param5: e, param6: f, param7: g, key1: value1, key2: value2, key3: value3, …, keyN: valueN}